{
  "openapi": "3.0.2",
  "info": {
    "title": "API Title",
    "version": "1.0"
  },
  "servers": [
    {
      "url": "http://localhost:8080"
    },
    {
      "url": "http://localhost:8080/api"
    }
  ],

  "components": {
    "securitySchemes":{
      "basicAuth":{
        "type": "http",
        "scheme": "basic"
      }
    },
    "schemas": {
      "BaseResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "format": "int32"
          },
          "msg": {
            "type": "string"
          },
          "data": {
            "type": "object"
          }
        }
      },
      "answerView":{
        "type":"object",
        "properties":{
          "id":{
            "type": "integer",
            "format": "uint32",
            "description": "id",
            "example": 1
          },
          "taskName":{
            "type": "string",
            "description": "任务名称",
            "example": "任务名称"
          },
          "questionnaireID": {
            "type": "integer",
            "format": "uint32",
            "description": "问卷ID",
            "example": 1
          },
          "questionnaireCode": {
            "type": "string",
            "description": "问卷编码",
            "example": "问卷编码"
          },
          "questionnaireName": {
            "type": "string",
            "description": "问卷名称",
            "example": "问卷名称"
          },
          "questionnaireComment": {
            "type": "string",
            "description": "问卷描述",
            "example": "问卷描述"
          },
          "questionnaireCreator": {
            "type": "string",
            "description": "问卷创建者",
            "example": "问卷创建者"
          },
          "phone": {
            "type": "string",
            "description": "受访者手机号",
            "example": "受访者手机号"
          },
          "companyArea": {
            "type": "integer",
            "format": "uint32",
            "description": "公司所在地",
            "example": 1
          },
            "companyName": {
            "type": "string",
            "description": "公司名称",
            "example": "公司名称"
          },
		  "companyTC": {
            "type": "integer",
            "format": "uint32",
            "description": "企业行业分类",
            "example": 1
          },
		  "companySize": {
            "type": "integer",
            "format": "uint32",
            "description": "企业规模",
            "example": 1
          },
		  "companyRC": {
            "type": "integer",
            "format": "uint32",
            "description": "企业注册分类",
            "example": 1
          },
          "updatedAt":{
            "type": "integer",
            "format": "int64",
            "description": "答案更新时间",
            "example": 1661838439000
          },
		  "status":{
			"type":"integer",
			"format":"uint32",
			"description":"答卷状态(0:未知,1:草稿,2:已完成)",
			"example":"2"
		  },
		  "timer":{
			"type":"integer",
			"format":"uint32",
			"description":"填写时长(单位：秒)",
			"example":"10"
		  },
		  "isValid":{
			"type":"integer",
			"format":"uint32",
			"description":"问卷状态 0:未知;1有效;2:无效",
			"example":"1"
		  },
		  "committedAt":{
            "type": "integer",
            "format": "int64",
            "description": "答案提交时间",
            "example": 1661838439000
          },
		  "batch":{
			"type":"integer",
			"format":"uint32",
			"description":"问卷批次",
			"example":"3"
		  }
        }
      },
      "answerInfo":{ 
        "type": "object",
        "properties": {
          "taskQuestionnaireID":{
            "type": "integer",
            "format": "uint32",
            "description": "任务问卷ID(任务问卷列表中携带有该ID)",
            "example": 1
          },
          "status": {
            "type": "integer",
            "format": "uint32",
            "description": "答卷状态(0:未知,1:草稿,2:已完成)",
            "example": 1
          },
          "answerItems": {
            "type": "string",
            "format": "binary",
            "example":[
              {
              "id": "frontID-A前端内部ID",
              "type": "administrative_regions",
              "typeName": "地区选择",
              "raw":1
            },
            {
              "id": "frontID-B",
              "type": "multiple_selection",
              "typeName": "多选题",
              "raw":[1,2,3,4]
            }]
          }
        }
      },
      "answer":{
        "allOf": [
          {
            "$ref": "#/components/schemas/answerInfo"
          },{
            "$ref": "#/components/schemas/modifyInfo"
          },{
            "type": "object",
            "properties": {
     
            }
          }
        ]
      },
      "task": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "uint32",
            "description": "任务ID"
          },
          "code": {
            "type": "string",
            "description": "任务编号"
          },
          "name": {
            "type": "string",
            "description": "任务名称"
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "description": "任务状态（0,未知;1,待发布；2,已发布;3,填写中;4,已完成；5，未完成;）"
          },
          "comment": {
            "type": "string",
            "description": "备注"
          },
          "messageStatus": {
            "type": "integer",
            "format": "int32",
            "description": "任务状态（0,未知;1,待确定；2,发送中;3,已完成;）"
          },
		  "smsScheduleStatus":{
			"type": "integer",
            "format": "int32",
            "description": "短信任务执行状态 (0,未知;1,待执行;2,已执行)"
		  },
          "companySendCount": {
            "type": "integer",
            "format": "int32",
            "description": "已发送企业数"
          },
          "companyCount": {
            "type": "integer",
            "format": "int32",
            "description": "需要发送的企业数"
          },
          "messageSendCount": {
            "type": "integer",
            "format": "int32",
            "description": "已发送短信条数"
          },
          "questionnaireCount": {
            "type": "integer",
            "format": "int32",
            "description": "问卷数"
          },
          "completedInvitationCount": {
            "type": "integer",
            "format": "int32",
            "description": "完成当前任务调查的企业数"
          },
          "expireStartAt": {
            "type": "integer",
            "format": "int64",
            "description": "整体任务开始时间"
          },
          "expireEndAt": {
            "type": "integer",
            "format": "int64",
            "description": "整体任务结束时间"
          },
          "creator": {
            "type": "string",
            "description": "创建人名称"
          },
          "createdAt": {
            "type": "integer",
            "format": "int64",
            "description": "创建时间戳"
          },
          "updater": {
            "type": "string",
            "description": "更新人"
          },
          "updateAt": {
            "type": "integer",
            "format": "int64",
            "description": "更新时间"
          },
		  "cur_batch": {
            "type": "integer",
            "format": "uint32",
            "description": "当前批次",
			"example":"1"
          }
        },
        "example": {
          "id": 1,
          "code": "WJDCQ00000001",
          "name": "xxxx调查问卷",
          "status": 3,
          "comment": "江西创新型企业经济调查",
          "messageStatus": 3,
          "companySendCount": 998,
          "companyCount": 999,
          "messageSendCount": 2333,
          "questionnaireCount": 3,
          "completedInvitationCount": 560,
          "expireStartAt": 1661838439000,
          "expireEndAt": 1661838439000,
          "creator": "暴走小黄鸭",
          "createdAt": 1661838439000,
          "updater": "调查者1024",
          "updateAt": 1661838439000,
		  "cur_batch":1
        }
      },
      "modifyInfo":{
        "type": "object",
        "description": "修改人信息",
        "properties": {
          "creator": {
            "type": "string",
            "description": "创建人名称",
            "example": "暴走小黄鸭"
          },
          "createdAt": {
            "type": "integer",
            "format": "int64",
            "description": "创建时间戳",
            "example": 1661838439000
          },
          "updater": {
            "type": "string",
            "description": "更新人",
            "example": "调查者1024"
          },
          "updateAt": {
            "type": "integer",
            "format": "int64",
            "description": "更新时间",
            "example": 1661838439000
          }
        }
      },
      "companyType":{
        "type": "object",
        "description": "企业类型",
        "properties": {
          "companyArea":{
            "type": "integer",
            "format": "uint32",
            "description": "受邀企业所在地区编号",
            "example":1
          },
          "companyTC":{
            "type": "integer",
            "format": "uint32",
            "description": "受邀企业行业编号",
            "example":1
          }
        }
      },
      "invitationInfo":{
        "type": "object",
        "description": "邀请信息",
        "allOf": [
          {
            "$ref": "#/components/schemas/companyType"
          },
          {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer",
                "format": "uint32",
                "description": "邀约ID",
                "example": 1
              },
              "taskID": {
                "type": "integer",
                "format": "uint32",
                "description": "任务ID",
                "example": 1
              },
              "companyName": {
                "type": "string",
                "description": "受邀企业名称",
                "example": "江西创新型企业"
              },
              "companyPhone": {
                "type": "string",
                "description": "受邀企业手机号码",
                "example": "13500000000"
              },
              "companyLinkman": {
                "type": "string",
                "description": "受邀企业联系人",
                "example": "张三"
              },
              "comment":{
                "type": "string",
                "description": "备注",
                "example": "备注"
              },
			  "smsStatus":{
				"type":"integer",
				"format": "uint32",
				"description":"短信状态 0:未知, 1:待确定(创建表记录时默认值), 2:排队中,3:发送成功,4:发送失败,5:待发送",
				"example":"1"
			  },
			  "isAppend":{
				"type":"boolean",
				"description":"是否为追加企业",
				"example":"true"
			  },
			  "batch":{
				"type":"integer",
				"format": "uint32",
				"description":"当前批次",
				"example":"1"
			  }
            }
          }
        ]
      },
      "invitation": {
        "type": "object",
        "description": "任务邀约，受邀企业进行任务调查",
        "allOf": [
          {
            "$ref": "#/components/schemas/invitationInfo"
          },
          {
            "$ref": "#/components/schemas/modifyInfo"
          },{
            "$ref": "#/components/schemas/companyType"
          }
        ]
      },
      "taskQuestionnairesRule":{
        "type": "object",
        "properties": {
          "questionnaireID": {
            "description": "问卷ID",
            "type": "integer",
            "format": "uint32",
            "example": 1
          },
          "expireStartAt": {
            "description": "答题开始时间",
            "type": "string",
            "example": "2021-01-01 00:00:00"
          },
          "expireEndAt": {
            "description": "答题截止时间",
            "type": "string",
            "example": "2021-01-01 00:00:00"
          },
          "comment": {
            "description": "备注",
            "type": "string",
            "example": "备注"
          }
        }
      },
      "basic": {
        "type": "object",
        "description": "问卷摘要",
        "properties": {
          "id": {
            "type": "integer",
            "format": "uint32",
            "description": "问卷ID",
            "example":1
          },
          "code": {
            "type": "string",
            "description": "问卷编号",
            "example":"WJDCQ00000001"
          },
          "name": {
            "type": "string",
            "description": "问卷名称",
            "example":"xxxx调查问卷"
          },
          "comment": {
            "type": "string",
            "description": "备注"
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "description": "问卷状态（0,未知;1,设计中；2,已经发布）",
            "example":1
          },
          "creator": {
            "type": "string",
            "description": "创建人名称",
            "example":"暴走小黄鸭"
          },
          "createdAt": {
            "type": "integer",
            "format": "int64",
            "description": "创建时间戳",
            "example": 1661838439000
          },
          "updater": {
            "type": "string",
            "description": "更新人",
            "example":"调查者1024"
          },
          "updateAt": {
            "type": "integer",
            "format": "int64",
            "description": "更新时间",
            "example": 1661838439000
          }
        }
      },
      "questionnaire": {
        "allOf": [
          {
            "$ref": "#/components/schemas/basic"
          },
          {
            "$ref": "#/components/schemas/questionnaireDetail"
          }
        ]
      },
      "questionnaireDetail":{
        "type": "object",
        "required": [
          "id",
          "status",
          "groups"
        ],
        "properties": {
          "id": {
            "description": "问卷ID",
            "type": "integer",
            "format": "uint32",
            "example": 1
          },
          "status": {
            "description": "问卷状态（0,未知;1,设计中；2,已经发布）",
            "type": "integer",
            "format": "int32",
            "enum": [
              1,
              2
            ]
          },
          "groups": {
            "description": "问卷问题组列表",
            "type": "string",
            "format": "binary",
            "example":[
              {
                "name": "请完成下列基本信息填写",
                "questions": [
                  {
                    "raw": {
                      "required": true,
                      "topicDesc": "请选择您所属的行政区域",
                      "topicDescText": "请选择您所属的行政区域",
                      "optionType": "single",
                      "defaultSeled": [
                        "wh"
                      ]
                    },
                    "type": "administrative_regions",
                    "typeName": "行政区域"
                  }
                ]
              }
            ]
          }
        }
   
      },
      "question": {
        "type": "object",
        "properties": {
          "raw": {
            "description": "题目内容，用于模板渲染",
            "type": "object"
          },
          "type": {
            "type": "string",
            "description": "题目类型"
          },
          "typeName": {
            "type": "string",
            "description": "题目类型描述"
          }
        },
        "example": {
          "raw": {
            "required": true,
            "topicDesc": "请选择您所属的行政区域",
            "topicDescText": "请选择您所属的行政区域",
            "optionType": "single",
            "defaultSeled": [
              "wh"
            ]
          },
          "type": "administrative_regions",
          "typeName": "行政区域"
        }
      },
      "questionGroup": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "分组（分页）名称",
            "example": "请完成下列基本信息填写"
          },
          "questions": {
            "type":"array",
            "items":{
              "$ref": "#/components/schemas/question"
            }
          }
        }
      },
      "sys-dic-item": {
        "type": "object",
        "description": "字典元素",
        "properties": {
          "value": {
            "type": "integer",
            "format": "int32",
            "description": "选项ID",
            "example": 1
          },
          "label": {
            "type": "string",
            "description": "选项名称",
            "example": "南昌市"
          },
          "children": {
            "$ref": "#/components/schemas/question"
          }
        }
      },
      "sys-dic": {
        "type": "object",
        "description": "数据字典详情",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32",
            "description": "ID",
            "example": 2
          },
          "alias": {
            "type": "string",
            "description": "别名",
            "example": "area"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/sys-dic-item"
            },
            "example": [
              {
                "value": 1,
                "label": "南昌市",
                "children": [
                  {
                    "value": 3,
                    "label": "新建区",
                    "children": []
                  },
                  {
                    "value": 4,
                    "label": "红谷滩区",
                    "children": []
                  }
                ]
              },
              {
                "value": 2,
                "label": "九江市",
                "children": []
              }
            ]
          }
        }
      },
      "progTrackingInfo": {
        "type": "object",
        "description": "进度跟踪信息",
        "properties": {
          "companyPhone": {
            "type": "string",
            "description": "企业电话",
            "example": 13500000000
          },
          "addType": {
            "type": "string",
            "description": "添加方式",
            "example": "手动添加"
          },
          "smsStatus": {
            "type": "integer",
            "format": "int32",
            "description": "短信发送状态",
            "example": 1
          },
          "smsFailedAt": {
            "type": "integer",
            "format": "int64",
            "description": "短信发送失败时间",
            "example": 1661838439000
          },
          "smsSucceedAt": {
            "type": "integer",
            "format": "int64",
            "description": "短信发送成功时间",
            "example": 1661838439000
          },
          "questionnaireAnswered": {
            "type": "integer",
            "format": "int32",
            "description": "已填写问卷数",
            "example": 1
          },
          "allQuestionnaires": {
            "type": "integer",
            "format": "int32",
            "description": "总问卷数",
            "example": 3
          },
          "taskCompleteStatus": {
            "type": "integer",
            "format": "int32",
            "description": "任务完成状态",
            "example": 1
          },
          "taskCompleteAt": {
            "type": "integer",
            "format": "int64",
            "description": "任务完成时间",
            "example": 1661838439000
          },
		  "batch":{
			"type":"integer",
			"format": "uint32",
			"description":"当前批次",
			"example":"1"
		  }
        }
      }
    },
    "responses": {
      "OperateResponse": {
        "description": "操作成功",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/BaseResponse"
            },
            "examples": {
              "success": {
                "value": {
                  "code": 0,
                  "msg": "操作成功",
                  "data": {}
                }
              },
              "fail": {
                "value": {
                  "code": 1,
                  "msg": "暂无操作权限",
                  "data": {}
                }
              }
            }
          }
        }
      },
      "SysErrorResponse": {
        "description": "系统错误",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/BaseResponse"
            },
            "examples": {
              "sysErr": {
                "value": {
                  "code": -1,
                  "message": "系统错误，请联系管理员",
                  "data": {}
                }
              }
            }
          }
        }
      }
    }
  },
  "paths": {
    "/admin/questionnaire/basics": {
      "get": {
        "description": "获取问卷摘要列表",
        "tags": [
          "问卷管理"
        ],
        "responses": {
          "200": {
            "description": "正常返回",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "format": "uint32"
                    },
                    "msg": {
                      "type": "string",
                      "example": "操作成功"
                    },
                    "data": {
                      "type": "object",
                      "description": "摘要列表数据",
                      "properties": {
                        "basics": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/basic"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "default": {
            "$ref": "#/components/responses/SysErrorResponse"
          }
        }
      }
    },
    "/admin/questionnaire/basic": {
      "post": {
        "description": "新建/更新问卷",
        "tags": [
          "问卷管理"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "comment"
                ],
                "properties": {
                  "name": {
                    "description": "问卷名称",
                    "type": "string",
                    "example": "江西工商服务满意度调查问卷"
                  },
                  "comment": {
                    "description": "问卷备注",
                    "type": "string",
                    "example": "欢迎参加xx年度，江西工商服务满意度调查，请填写一下内容："
                  },
                  "id": {
                    "description": "问卷ID（可选项，修改现有问卷时上传）",
                    "type": "integer",
                    "format": "uint32",
                    "example": 1
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/OperateResponse"
          },
          "default": {
            "$ref": "#/components/responses/SysErrorResponse"
          }
        }
      }
    },
	"/admin/questionnaire/copy": {
		"post": {
		  "description": "复制问卷",
		  "tags": [
			"问卷管理"
		  ],
		  "requestBody": {
			"content": {
			  "application/json": {
				"schema": {
				  "type": "object",
				  "required": [
					"name",
					"comment"
				  ],
				  "properties": {
					"name": {
					  "description": "问卷名称",
					  "type": "string",
					  "example": "江西工商服务满意度调查问卷"
					},
					"comment": {
					  "description": "问卷备注",
					  "type": "string",
					  "example": "欢迎参加xx年度，江西工商服务满意度调查，请填写一下内容："
					},
					"id": {
					  "description": "问卷ID（可选项，修改现有问卷时上传）",
					  "type": "integer",
					  "format": "uint32",
					  "example": 1
					}
				  }
				}
			  }
			}
		  },
		  "responses": {
			"200": {
			  "$ref": "#/components/responses/OperateResponse"
			},
			"default": {
			  "$ref": "#/components/responses/SysErrorResponse"
			}
		  }
		}
	  },
    "/admin/questionnaire/deleteBasics": {
      "post": {
        "description": "删除问卷",
        "tags": [
          "问卷管理"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "description": "问卷ID列表",
                "items":{
                  "type": "integer",
                  "format": "uint32"
                },
                "example": [1,2,3]
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/OperateResponse"
          },
          "default": {
            "$ref": "#/components/responses/SysErrorResponse"
          }
        }
      }
    },
    "/admin/questionnaire/detail": {
      "post": {
        "description": "设计问卷",
        "tags": [
          "问卷管理"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/questionnaireDetail"
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/OperateResponse"
          },
          "default": {
            "$ref": "#/components/responses/SysErrorResponse"
          }
        }
      },
      "get": {
        "description": "获取文件基础摘要",
        "tags": [
          "问卷管理"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "query",
            "description": "问卷ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "uint32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "正常返回",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "format": "int32"
                    },
                    "msg": {
                      "type": "string",
                      "example": "操作成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/questionnaire",
                      "description": "问卷摘要"
                    }
                  }
                }
              }
            }
          },
          "default": {
            "$ref": "#/components/responses/SysErrorResponse"
          }
        }
      }
    },
    "/admin/getTaskList": {
      "get": {
        "description": "获取任务摘要列表",
        "tags": [
          "任务管理"
        ],
        "responses": {
          "200": {
            "description": "正常返回",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "format": "int32"
                    },
                    "msg": {
                      "type": "string",
                      "example": "操作成功"
                    },
                    "data": {
                      "type": "object",
                      "description": "摘要列表数据",
                      "properties": {
                        "basics": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/task"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/upsertTask": {
      "post": {
        "description": "创建/更新任务",
        "tags": [
          "任务管理"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "comment"
                ],
                "properties": {
                  "name": {
                    "description": "任务名称",
                    "type": "string",
                    "example": "江西创新型企业经济调查"
                  },
                  "comment": {
                    "description": "任务备注",
                    "type": "string",
                    "example": "本次调查任务，立在了解江西本地创新企业经营情况"
                  },
                  "id": {
                    "description": "任务ID（可选项，修改现有任务时上传）",
                    "type": "integer",
                    "format": "uint32",
                    "example": 1
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/OperateResponse"
          },
          "default": {
            "$ref": "#/components/responses/SysErrorResponse"
          }
        }
      }
    },
    "/admin/getTask": {
      "get": {
        "description": "获取任务详细",
        "tags": [
          "任务管理"
        ],
        "parameters": [
          {
            "name": "taskID",
            "in": "query",
            "description": "任务ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "uint32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "正常返回",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "format": "int32"
                    },
                    "msg": {
                      "type": "string",
                      "example": "操作成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/task",
                      "description": "问卷摘要"
                    }
                  }
                }
              }
            }
          },
          "default": {
            "$ref": "#/components/responses/SysErrorResponse"
          }
        }
      }
    },
    "/admin/deleteTasks": {
      "post": {
        "description": "删除任务",
        "tags": [
          "任务管理"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "description": "删除任务id数组",
                "items":{
                  "type": "integer",
                  "format": "uint32"
                },
                "example": [1,2,3]
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/OperateResponse"
          },
          "default": {
            "$ref": "#/components/responses/SysErrorResponse"
          }
        }
      }
    },
    "/admin/task/pickQuestionnaires": {
      "post": {
        "description": "创建/修改任务包含的问卷选择",
        "tags": [
          "任务管理"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "id",
                  "questionnaires"
                ],
                "properties": {
                  "id": {
                    "description": "任务ID",
                    "type": "integer",
                    "format": "uint32",
                    "example": 1
                  },
                  "questionnaires": {
                    "description": "用于此处任务调查的问卷列表",
                    "type": "array",
                    "minItems": 1,
                    "maxItems": 10,
                    "items": {
                      "$ref": "#/components/schemas/taskQuestionnairesRule"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/OperateResponse"
          },
          "default": {
            "$ref": "#/components/responses/SysErrorResponse"
          }
        }
      }
    },
    "/admin/task/getQuestionnaires": {
      "get": {
        "description": "获取任务包含的问卷选择",
        "tags": [
          "任务管理"
        ],
        "parameters": [
          {
            "name": "taskID",
            "in": "query",
            "description": "任务ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "uint32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "正常返回",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "format": "int32"
                    },
                    "msg": {
                      "type": "string",
                      "example": "操作成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "list":{
                          "type": "array",
                          "description": "问卷摘要",
                          "items": {
                            "allOf":[
                              {
                                "type": "object",
                                "properties":{
                                  "id": {
                                    "type": "integer",
                                    "format": "uint32",
                                    "example": 1
                                  }
                                }
                              },
                              {
                                "$ref": "#/components/schemas/taskQuestionnairesRule"
                              }
                            ]
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "default": {
            "$ref": "#/components/responses/SysErrorResponse"
          }
        }
      }
    },
    "/admin/task/getInvitationList": {
      "get": {
        "description": "获取任务企业邀约列表",
        "tags": [
          "任务管理"
        ],
        "parameters": [
          {
            "name": "taskID",
            "in": "query",
            "description": "任务ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "uint32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "正常返回",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "format": "int32"
                    },
                    "msg": {
                      "type": "string",
                      "example": "操作成功"
                    },
                    "data": {
                      "type": "object",
                      "description": "摘要列表数据",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/invitation"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/task/upsertInvitation":{
      "post":{
        "description": "添加务企业邀约列表",
        "tags": [
          "任务管理"
        ],
        "requestBody":{
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/invitationInfo"
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/OperateResponse"
          },
          "default": {
            "$ref": "#/components/responses/SysErrorResponse"
          }
        }
      }
    },
    "/admin/task/getInvitation":{
      "get":{
        "description": "获取任务企业邀约详情",
        "tags": [
          "任务管理"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "query",
            "description": "邀约ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "uint32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "正常返回",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "format": "int32"
                    },
                    "msg": {
                      "type": "string",
                      "example": "操作成功"
                    },
                    "data": {
                      "type": "object",
                      "description": "邀约详情",
                      "properties": {
                        "invitation": {
                          "$ref": "#/components/schemas/invitation"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/task/deleteInvitations":{
      "post":{
        "description": "删除任务企业邀约列表",
        "tags": [
          "任务管理"
        ],
        "requestBody":{
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "minimum": 1,
                "maximum": 100,
                "description": "删除邀约id数组",
                "items":{
                  "type": "integer",
                  "format": "uint32"
                },
                "example": [1,2,3]
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/OperateResponse"
          },
          "default": {
            "$ref": "#/components/responses/SysErrorResponse"
          }
        }
      }
    },
    "/admin/getAnswerList":{
      "get":{
        "description": "获取任务企业邀约列表",
        "tags": [
          "结果管理"
        ],
        "responses": {
          "200": {
            "description": "正常返回",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "format": "int32"
                    },
                    "msg": {
                      "type": "string",
                      "example": "操作成功"
                    },
                    "data": {
                      "type": "object",
                      "description": "摘要列表数据",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/answerView"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/answer/getRaw":{
      "get":{
        "description": "获取原始回答",
        "tags": [
          "结果管理"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "query",
            "description": "回答ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "uint32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "正常返回",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "format": "int32"
                    },
                    "msg": {
                      "type": "string",
                      "example": "操作成功"
                    },
                    "data": {
                      "type": "string",
                      "format": "binary",
                      "description": "原始回答",
                      "example":{
                        "answerItems": [
                          {
                            "id": "frontID-A前端内部ID",
                            "type": "administrative_regions",
                            "typeName": "地区选择",
                            "raw": 1
                          },
                          {
                            "id": "frontID-B",
                            "type": "multiple_selection",
                            "typeName": "多选题",
                            "raw": [
                              1,
                              2,
                              3,
                              4
                            ]
                          }
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/questionnaire/answer":{
      "post":{
        "description": "提交问卷答案",
        "tags": [
          "结果管理"
        ],
        "requestBody":{
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/answerInfo"
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/OperateResponse"
          },
          "default": {
            "$ref": "#/components/responses/SysErrorResponse"
          }
        }
      }
    },
    "/sys/dictionary/{alias}": {
      "get": {
        "description": "获取 alias 数据字典内容",
        "tags": [
          "系统设置"
        ],
        "parameters": [
          {
            "name": "alias",
            "in": "path",
            "description": "字典别名",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "正常返回",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "format": "int32"
                    },
                    "msg": {
                      "type": "string",
                      "example": "操作成功"
                    },
                    "data": {
                      "type": "array",
                      "description": "通用题列表",
                      "items": {
                        "$ref": "#/components/schemas/sys-dic"
                      }
                    }
                  }
                }
              }
            }
          },
          "default": {
            "$ref": "#/components/responses/SysErrorResponse"
          }
        }
      }
    },
    "/admin/task/getProgTrackingList": {
      "get": {
        "description": "获取进度跟踪列表",
        "tags": [
          "任务管理"
        ],
        "parameters": [
          {
            "name": "taskID",
            "in": "query",
            "description": "任务ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "uint32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "正常返回",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "format": "int32"
                    },
                    "msg": {
                      "type": "string",
                      "example": "操作成功"
                    },
                    "data": {
                      "type": "object",
                      "description": "摘要列表数据",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/progTrackingInfo"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}